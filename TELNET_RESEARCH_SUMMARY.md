# CS2 Telnet Commands - Research Summary
**–î–∞—Ç–∞:** 2025-11-19 | **–°—Ç–∞—Ç—É—Å:** Complete | **–£—Ä–æ–≤–µ–Ω—å:** Very Thorough

---

## TL;DR - –°—É—Ç—å –≤ —Ç—Ä–µ—Ö –ø—É–Ω–∫—Ç–∞—Ö

1. **‚úÖ demo_info —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ polling
2. **‚ö†Ô∏è force_sync (demo_pause/resume) –ø—Ä–æ–±–ª–µ–º–Ω—ã–π** - –ø–∞—É–∑–∏—Ä—É–µ—Ç –¥–µ–º–æ –≤–∏–¥–∏–º–æ  
3. **üîß –†–µ—à–µ–Ω–∏–µ:** –í–º–µ—Å—Ç–æ force_sync –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ demo_info + –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π polling

---

## –ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã

| –ö–æ–º–∞–Ω–¥–∞ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|---------------|--------|
| `demo_info` | –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ç–∏–∫ | ‚úÖ –û–°–ù–û–í–ù–ê–Ø - –Ω–∞–¥–µ–∂–Ω–∞ |
| `demo_pause` + `demo_resume` | Force sync –ø—Ä–∏ –¥—Ä–µ–π—Ñ–µ | ‚ö†Ô∏è –†–ï–î–ö–û - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥—Ä–µ–π—Ñ–µ >10 —Ç–∏–∫–æ–≤ |
| `status` | –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ | ‚ö†Ô∏è –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û - –¥–ª—è —Å–ø–µ–∫—Ç–∞—Ç–æ—Ä–∞ |

---

## –û—Ç–≤–µ—Ç—ã –æ—Ç CS2

### demo_info response
```
Demo contents for demo.dem:
Currently playing 12500 of 160000 ticks (0:03:15 / 0:41:40)
at 1.00x speed
```

**Regex –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (–û–°–ù–û–í–ù–û–ô):**
```python
r"Currently playing (\d+) of (\d+) ticks\s*\(([^/]+)\s*/\s*([^)]+)\).*?at\s+([\d.]+)x\s+speed"
```

### demo_pause response  
```
paused on tick 12500
```

**Regex –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞:**
```python
r"paused on tick (\d+)"
```

---

## –ü—Ä–æ–±–ª–µ–º—ã –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ

| –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª:–°—Ç—Ä–æ–∫–∞ | –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å | –†–µ—à–µ–Ω–∏–µ |
|----------|------------|-------------|---------|
| force_sync –ø–∞—É–∑–∏—Ä—É–µ—Ç –¥–µ–º–æ | telnet_client.py:134 | üî¥ –ö–†–ò–¢–ò–ß–ù–ê | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û –ø—Ä–∏ –¥—Ä–µ–π—Ñ–µ |
| 3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö regex –ø–∞—Ç—Ç–µ—Ä–Ω–∞ | telnet_client.py:284-293 | üü° –°–†–ï–î–ù–Ø–Ø | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ 1 |
| force_sync –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ | orchestrator.py:63 | üü° –°–†–ï–î–ù–Ø–Ø | –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ demo_info |
| –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä–µ–π—Ñ–∞ –ø–µ—Ä–µ–¥ force_sync | telnet_client.py:134 | üü° –°–†–ï–î–ù–Ø–Ø | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É |

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –î–ê - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å demo_info
```python
async def get_current_tick(self) -> int:
    self.writer.write(b"demo_info\n")  # ‚Üê –ü–∞—Å—Å–∏–≤–Ω–æ, –ë–ï–ó –ø–∞—É–∑—ã
    response = await asyncio.wait_for(
        self.reader.read(2048),
        timeout=1.0
    )
    # –ü–∞—Ä—Å–∏—Ä–æ–≤–∞—Ç—å response
```

### ‚ùå –ù–ï–¢ - –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å force_sync –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ
```python
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
tick = await self.tick_source.force_sync_tick()  # –ü–∞—É–∑–∏—Ä—É–µ—Ç!
```

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - Force sync —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥—Ä–µ–π—Ñ–µ
```python
# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª - demo_info
tick = await self.tick_source.get_current_tick()

# –ï—Å–ª–∏ –¥—Ä–µ–π—Ñ > 10 —Ç–∏–∫–æ–≤ - force_sync
if abs(predicted - synced) > 10:
    tick = await self.tick_source.force_sync_tick()
```

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

| –§–∞–π–ª | –§—É–Ω–∫—Ü–∏—è | –ß—Ç–æ –º–µ–Ω—è—Ç—å |
|------|---------|-----------|
| telnet_client.py | `force_sync_tick()` | –î–æ–±–∞–≤–∏—Ç—å guard —É—Å–ª–æ–≤–∏–µ "—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥—Ä–µ–π—Ñ" |
| telnet_client.py | `get_demo_info()` | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å 3 regex –≤ 1 |
| orchestrator.py | `update()` | –£–±—Ä–∞—Ç—å force_sync –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ |
| prediction_engine.py | `get_corrected_tick()` | –î–æ–±–∞–≤–∏—Ç—å force_sync –¢–û–õ–¨–ö–û –∑–¥–µ—Å—å |

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–∞—Å—Å–∏–≤–Ω—ã–π polling (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø ‚≠ê)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `demo_info` 
- Polling –∫–∞–∂–¥—ã–µ 250-300ms
- Prediction –º–µ–∂–¥—É polling'–∞–º–∏
- ‚úÖ –ù–µ—Ç freeze, ‚úÖ –ù–∞–¥–µ–∂–Ω–µ–µ, ‚úÖ –ü—Ä–æ—Å—Ç–æ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ì–∏–±—Ä–∏–¥–Ω—ã–π (–û–ü–¢–ò–ú–ê–õ–¨–ù–´–ô ‚≠ê‚≠ê)
- –û—Å–Ω–æ–≤–Ω–æ–µ: `demo_info` polling
- –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: `force_sync` –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –¥—Ä–µ–π—Ñ >10 —Ç–∏–∫–æ–≤
- ‚úÖ –õ—É—á—à–∏–π –±–∞–ª–∞–Ω—Å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: Event-based (–≠–ö–°–ü–ï–†–ò–ú–ï–ù–¢–ê–õ–¨–ù–û)
- –°–ª—É—à–∞—Ç—å console events –≤–º–µ—Å—Ç–æ polling
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–≤–æ–¥–∞
- ‚ö†Ô∏è –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–æ–±—ã—Ç–∏–π

---

## –ú–µ—Ç—Ä–∏–∫–∏

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Freeze –ø—Ä–∏ sync: 50-100ms ‚ùå
- Regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤: 6 (—Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã)
- Force_sync –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —á–∞—Å—Ç–æ–µ ‚ùå
- Reliability: ~95%

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- Freeze –ø—Ä–∏ sync: 0ms ‚úÖ
- Regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤: 2 (–æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã)
- Force_sync –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —Ä–µ–¥–∫–æ–µ ‚úÖ
- Reliability: 99%+ ‚úÖ

---

## –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–®–∞–≥ 1 (30 –º–∏–Ω):** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å regex patterns –≤ telnet_client.py
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤–º–µ—Å—Ç–æ 3-—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö
DEMO_INFO_PATTERN = re.compile(
    r"Currently playing (\d+) of (\d+) ticks\s*"
    r"\(([^/]+)\s*/\s*([^)]+)\).*?at\s+([\d.]+)x\s+speed"
)
```

**–®–∞–≥ 2 (1 —á–∞—Å):** –î–æ–±–∞–≤–∏—Ç—å guard –≤ force_sync
```python
# –¢–û–õ–¨–ö–û –∏—Å–ø–æ–ª—å–∑—É–π force_sync –µ—Å–ª–∏:
if abs(predicted - synced) > 10:  # –¥—Ä–µ–π—Ñ > 10 —Ç–∏–∫–æ–≤
    tick = await force_sync_tick()
```

**–®–∞–≥ 3 (30 –º–∏–Ω):** –£–±—Ä–∞—Ç—å force_sync –∏–∑ orchestrator.update()
```python
# –ë–´–õ–û:
tick = await self.tick_source.force_sync_tick()

# –°–¢–ê–õ–û:
tick = await self.tick_source.get_current_tick()
```

**–®–∞–≥ 4 (1 —á–∞—Å):** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python test_network_layer.py  # Unit —Ç–µ—Å—Ç—ã
# + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º CS2
```

---

## –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç

–î–ª—è –¥–µ—Ç–∞–ª–µ–π –∏ –∫–æ–¥–∞ —Å–º–æ—Ç—Ä–∏—Ç–µ: `/home/user/cs2-demo-input-viewer/CS2_TELNET_RESEARCH_REPORT.md`

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç (CS2_TELNET_RESEARCH_REPORT.md)
- [ ] –û–±—ä–µ–¥–∏–Ω–∏—Ç—å regex patterns
- [ ] –î–æ–±–∞–≤–∏—Ç—å guard –≤ force_sync
- [ ] –£–¥–∞–ª–∏—Ç—å force_sync –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º CS2
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Ç –ª–∏ –≤–∏–¥–∏–º—ã—Ö freeze
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å CPU usage
- [ ] Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è

